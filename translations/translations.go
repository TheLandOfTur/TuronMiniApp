package translations

import (
	"sync"

	"github.com/OzodbekX/TuronMiniApp/volumes"
)

var (
	translations = map[string]map[string]string{
		"ru": {
			"welcome":                     "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫.",
			"login":                       "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω.",
			"cancel":                      "‚¨ÖÔ∏è –û—Ç–º–µ–Ω–∞",
			"mainMenu":                    "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
			"enterPassword":               "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å:",
			"wrongParol":                  "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –µ—â–µ —Ä–∞–∑",
			"Tariffs":                     "–¢–∞—Ä–∏—Ñ—ã",
			"FAQ":                         "FAQ",
			"Application":                 "–ó–∞—è–≤–ª–µ–Ω–∏–µ",
			"Language":                    "–Ø–∑—ã–∫",
			"Balance":                     "–ë–∞–ª–∞–Ω—Å",
			"Exit":                        "–í—ã—Ö–æ–¥",
			"GoBack":                      "–ù–∞–∑–∞–¥",
			"PleaseSelectOption":          "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –∏–∑ –º–µ–Ω—é:",
			"pleaseEnterYourName":         "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–µ –∏–º—è:",
			"enterPhone":                  "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ: +998#########",
			"pleaseShareYourPhoneNumber":  "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
			"listOfTariffs":               "–°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤",
			"price":                       "–¶–µ–Ω–∞",
			"speedByTime":                 "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏",
			"mbs":                         "–ú–±–∏—Ç/—Å",
			"uzs":                         "—Å—É–º",
			"sharePhoneNumber":            "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
			"invalidPhoneNumber":          "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –£–∫–∞–∂–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä: +998######### –∏–ª–∏ #########.",
			"loginSuccessful":             "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.",
			"yourBalance":                 "–í–∞—à –±–∞–ª–∞–Ω—Å",
			"tariffName":                  "–í–∞—à —Ç–∞—Ä–∏—Ñ",
			"subscriptionPrice":           "–¶–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏",
			"nextSubscriptionDate":        "–î–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–ø–∏—Å–∫–∏",
			"subscriptionPeriod":          "–ü–µ—Ä–∏–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏",
			"from":                        "—Å",
			"to":                          "–ø–æ",
			"subscriptionActive":          "–ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞",
			"active":                      "–ê–∫—Ç–∏–≤–Ω–æ",   // Active in Russian
			"inactive":                    "–ù–µ–∞–∫—Ç–∏–≤–Ω–æ", // Inactive in Russian
			"pleaseSelectCategory":        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:",
			"pleaseSelectFAQ":             "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ FAQ",
			"yes":                         "‚úÖ –î–∞",
			"no":                          "‚ùå –ù–µ—Ç",
			"doYouWantLogout":             "–í—ã —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?",
			"promoCode":                   "–ü—Ä–æ–º–æ-–∫–æ–¥",
			"enterCode":                   "–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥",
			"promoCodeInactive":           "–ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω",
			"promoCodeActive":             "–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–µ–Ω",
			"promoCodeAlreadyActivated":   "–ü—Ä–æ–º–æ–∫–æ–¥ —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω",
			"promoCodePermissionDenied":   "–î–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–º–æ–∫–æ–¥—É –∑–∞–ø—Ä–µ—â–µ–Ω",
			"promoCodeNotFound":           "–ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω",
			"status":                      "–°—Ç–∞—Ç—É—Å",
			"connectWithOperator":         "–°–≤—è–∑–∞—Ç—å—Å—è —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º",
			"operatorMessage":             "<a href='https://t.me/turonsupport'>–û–ø–µ—Ä–∞—Ç–æ—Ä</a>, —Å–≤—è–∂–∏—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã.",
			"chooseRole":                  "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫—Ç–æ –≤—ã:",
			"abonent":                     "üì± –ê–±–æ–Ω–µ–Ω—Ç",
			"user":                        "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
			"pleaseSelectYurDistrict":     "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥:",
			"pleaseSelectYurRegion":       "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π —Ä–∞–π–æ–Ω:",
			"enterFullName":               "üìù –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∏–º—è:",
			"errorFetchingData":           "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
			"enterAdditionalPhone":        "–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω",
			"sendApplication":             "üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É",
			"placeEnterFullName":          "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –í–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è (–Ω–µ –º–µ–Ω–µ–µ 3 –±—É–∫–≤).",
			"wrongPhoneNumber":            "‚ùó–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä.",
			"applicationSentSuccessfully": "‚úÖ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –û–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.",
			"failedToSendApp":             "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
		},
		"uz": {
			"welcome":                     "Xush kelibsiz! Iltimos, tilni tanlang.",
			"login":                       "Iltimos loginingizni kiriting",
			"cancel":                      "‚¨ÖÔ∏è Bekor qilish",
			"mainMenu":                    "üè† Asosiy menyu",
			"enterPassword":               "Iltimos, parolingizni kiriting:",
			"wrongParol":                  "Noto'g'ri login yoki parol, iltimos loginni qayta kiriting",
			"Tariffs":                     "Tariflar",
			"FAQ":                         "FAQ",
			"Application":                 "Ariza",
			"Language":                    "Til",
			"Balance":                     "Balans",
			"Exit":                        "Chiqish",
			"GoBack":                      "Ortga",
			"PleaseSelectOption":          "Iltimos, menyudan bo‚Äòlimni tanlang:",
			"pleaseEnterYourName":         "Iltimos, ismingizni kiriting:",
			"enterPhone":                  "Iltimos, telefon raqamingizni quyidagi formatda kiriting: +998#########",
			"pleaseShareYourPhoneNumber":  "Iltimos, telefon raqamingizni ulashing",
			"listOfTariffs":               "Tariflar ro'yxati",
			"price":                       "Narxi",
			"speedByTime":                 "Vaqt bo'yicha tezlik",
			"mbs":                         "Mbit/s",
			"uzs":                         "so'm",
			"sharePhoneNumber":            "Telefon raqamini ulashing",
			"invalidPhoneNumber":          "Telefon raqami formati noto‚Äòg‚Äòri. Iltimos, haqiqiy raqamni kiriting: +998######### yoki #########.",
			"loginSuccessful":             "Kirish muvaffaqiyatli! Bosh menyuga xush kelibsiz.",
			"yourBalance":                 "Sizning balansingiz",
			"tariffName":                  "Sizning tarifingiz",
			"subscriptionPrice":           "Obuna narxi",
			"nextSubscriptionDate":        "Keyingi obuna sanasi",
			"subscriptionPeriod":          "Obuna davri",
			"from":                        "dan",
			"to":                          "gacha",
			"subscriptionActive":          "Obuna faolligi",
			"active":                      "Faol",    // Active in Uzbek
			"inactive":                    "No Faol", // Inactive in Uzbek
			"pleaseSelectCategory":        "Kategoriya tanlang:",
			"pleaseSelectFAQ":             "Iltimos FAQni tanlang",
			"yes":                         "‚úÖ Ha",
			"no":                          "‚ùå Yo'q",
			"doYouWantLogout":             "Chiqishni xohlaysizmi.",
			"promoCode":                   "Promo kod",
			"enterCode":                   "Kodni kiriting",
			"promoCodeInactive":           "Promo kod faol emas",
			"promoCodeActive":             "Promo kod faol",
			"promoCodeAlreadyActivated":   "Promo kod allaqachon faollashtirilgan",
			"promoCodePermissionDenied":   "Promo kodga ruxsat berilmagan",
			"promoCodeNotFound":           "Promo kod topilmadi",
			"status":                      "Status",
			"connectWithOperator":         "Operator bilan bog'lanish",
			"operatorMessage":             "<a href='https://t.me/turonsupport'>Operator</a> bilan bog'laning va savollaringizga javob toping.",
			"chooseRole":                  "Iltimos, kimligingizni tanlang:",
			"abonent":                     "üì± Abonent",
			"user":                        "üë§ Foydalanuvchi",
			"pleaseSelectYurDistrict":     "Iltimos shaharingizni tanlang:",
			"pleaseSelectYurRegion":       "Iltimos tumaningizni tanlang:",
			"enterFullName":               "üìù Iltimos, ismingizni kiriting:",
			"errorFetchingData":           "‚ö†Ô∏è Ma'lumotlarni olishda xatolik. Keyinroq urinib ko‚Äòring.",
			"enterAdditionalPhone":        "Qo'shimcha telefonni kiriting",
			"sendApplication":             "üì® Ariza yuborish",
			"placeEnterFullName":          "Iltimos, to‚Äòliq ism kiriting (kamida 3 ta harf).",
			"wrongPhoneNumber":            "‚ùóTelefon raqam formati noto‚Äòg‚Äòri. Iltimos, to‚Äòg‚Äòri raqam kiriting.",
			"applicationSentSuccessfully": "‚úÖ Arizangiz muvaffaqiyatli yuborildi! Tez orada operator siz bilan bog‚Äòlanadi.",
			"failedToSendApp":             "‚ùå Arizani yuborishda xatolik yuz berdi. Iltimos, keyinroq urinib ko‚Äòring.",
		},
	}
)

func GetTranslation(userSessions *sync.Map, chatID int64, key string) string {
	lang := "uz"
	if session, ok := userSessions.Load(chatID); ok {
		user := session.(*volumes.UserSession)
		lang = user.Language
	}
	if text, ok := translations[lang][key]; ok {
		return text
	}

	return key // Fallback to key if translation is missing
}
